(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f045b"],{"9c50":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-dialog",{attrs:{"max-width":"600"},model:{value:t.draftDialog,callback:function(i){t.draftDialog=i},expression:"draftDialog"}},[e("v-card",[e("v-card-title",[t._v("Your Drafts")]),e("v-card-text",[t.drafts.results?e("v-list",t._l(t.drafts.results,(function(i,s){return e("v-list-item",{key:i.id},[e("v-list-item-avatar",{staticClass:"d-flex align-center justify-center",attrs:{color:"error lighten-5"}},[e("v-btn",{attrs:{color:"error",icon:""},on:{click:function(e){return t.deleteDraft(i.id,s)}}},[e("v-icon",[t._v("mdi-delete")])],1)],1),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(i.title))]),e("v-list-item-subtitle",[e("span",[e("b",[t._v("Type:")]),t._v(" "+t._s(i.type.replace(/^\w/,(function(t){return t.toUpperCase()}))))]),e("v-icon",[t._v("mdi-circle-small")]),e("span",[e("b",[t._v("In behalf of:")]),t._v(" "+t._s(i.community?i.community.name:"Yourself"))])],1),e("v-list-item-subtitle",[e("span",[e("b",[t._v("Last updated:")]),t._v(" "+t._s(t.$moment(i.timestamp).fromNow()))])])],1),e("v-list-item-action",[e("v-btn",{attrs:{rounded:"",color:i.community?i.community.theme.color:"primary",disabled:t.inProgress&&t.inProgress.id===i.id},on:{click:function(e){return t.startEditingDraft(i)}}},[t._v(" "+t._s(t.inProgress&&t.inProgress.id===i.id?"In Progress":"Start Editing")+" ")])],1)],1)})),1):e("div",[t._v("No drafts saved yet.")])],1)],1)],1)},a=[],r=e("5530"),n=e("2f62"),o=e("c473"),c={name:"DraftsDialog",mixins:[o["a"]],computed:Object(r["a"])(Object(r["a"])({},Object(n["b"])({inProgress:"publication/inProgress",drafts:"publication/draftList"})),{},{draftDialog:{get:function(){return this.$store.getters.draftState},set:function(t){this.$store.dispatch("setDraftState",t)}}}),methods:{startEditingDraft:function(t){this.inProgress&&this.inProgress.id===t.id||(this.$store.dispatch("publication/setInProgress",t),this.draftDialog=!1,this.$emit("initDraft"))},deleteDraft:function(t){var i=this,e=this.$util.format(this.$urls.publication.detail,t);this.$axios.delete(e).then((function(){t===i.inProgress.id&&(i.$store.dispatch("publication/setInProgress",null),i.$emit("startNew")),i.$store.dispatch("publication/removeDraftItem",t).then((function(){0===i.drafts.count&&(i.draftDialog=!1)})),i.openSuccessSnack("Draft deleted successfully.")})).catch((function(){i.openSnack("Something went wrong. Please try again.")}))}}},l=c,d=e("2877"),u=e("6544"),f=e.n(u),m=e("8336"),v=e("b0af"),g=e("99d9"),p=e("169a"),b=e("132d"),h=e("8860"),_=e("da13"),D=e("1800"),P=e("8270"),V=e("5d23"),w=Object(d["a"])(l,s,a,!1,null,"18e46ec6",null);i["default"]=w.exports;f()(w,{VBtn:m["a"],VCard:v["a"],VCardText:g["c"],VCardTitle:g["d"],VDialog:p["a"],VIcon:b["a"],VList:h["a"],VListItem:_["a"],VListItemAction:D["a"],VListItemAvatar:P["a"],VListItemContent:V["a"],VListItemSubtitle:V["b"],VListItemTitle:V["c"]})}}]);
//# sourceMappingURL=chunk-2d0f045b.19eb5174.js.map